# Architecture


## 接入层

 * 安全隔离
 * 流量控制
 * 无状态
   * 接口无状态后，状态要么放在缓存中，要么放在数据库

## misc
 * 架构升级, 既有架构和服务化上的提升，业务方也要有收益 
 * 数据层比服务层更需要设计 （存储 压缩 索引 scale）
   * 数据结构改变难，迁移难
 * 针对具体业务细节做优化
   * 双11活动之前重点设计优化购物车的写场景， 活动开始后优化购物车的读场景


## 三利器
 *  RPC 服务组件
   *  服务治理 唯一的 请求ID标识 递归迭代的传递到每一个相关节点
 * 消息中间件  
   * 异步化 
   * 解耦 
   * 流量削峰
 * 配置管理
   * 代码级灰度发布
   * 保障系统降级